## 명명을 잘하는 방법

- **핵심 주제**
  - 좋은 이름 짓기에 대한 여러 가지 관점의 비교
  - 이름과 인지 과정 간의 관계 파악
  - 다양한 명명법의 효과
  - 잘못된 이름이 버그 및 오류에 미치는 영향
  - 변수 이름을 구조화하여 이해도를 극대화하는 방법

이 장에서는 변수, 클래스 및 메서드와 같은 코드 내 여러 구성 요소들의 이름을 가장 잘 명명하는 방법을 연구해보자고 한다.

두뇌가 코드를 어떻게 처리하는지 어느 정도 알고 있기 때문에 코드를 파악하는 데 명명법이 왜 중요한지 더 깊이 이해할 수 있다.

좋은 이름을 사용하면 LTM을 활성화하여 코드 도메인에 대해 이미 알고 있는 관련 정보를 찾을 수 있다.

반면, 나쁜 이름은 코드에 대한 잘못된 추측을 하게 하고 오개념을 유발할 수 있다.

코딩에서 어렵다고 평가 받는 이름짓기.. 책에서도 매우 중요하고 어렵다고 강조한다.

작업 기억의 용량을 생각하면 쉬운 이름을 선택하는 것이 인지적 관점에서 타당하다.

*이 책은 인지적인 관점에서 바라보고, 클린 코드나 좋은 코드 나쁜 코드는 이런 시선과는 다른 것 같다.*

### 이름이 중요한 이유

좋은 변수 이름을 고르는 것은 어렵다.

> 컴퓨터 과학에는 난제가 두 가지 있는데 하나는 캐시 무효화이고 다른 하나는 변수 명명이다. (필 칼튼)

클래스나 자료구조가 수행하는 모든 작업을 모호하지 않은 하나의 단어로 표현하는 것은 쉽지 않은 작업이다.

```
생각

객체지향 관점에서 클래스를 쪼개는 행위, 즉 더 낮은 레벨로 분할하는 행위가 이름을 지을 때 도움이 될 것 같다.
```

이름을 짓는 일은 어렵지만, 코드에서 우리가 추론하는 객체에 맞는 이름을 고르는 것은 중요하다.

뇌의 명명 과정과 인지 과정 사이의 연관성에 대해 살펴보기 전에, 왜 명명 과정이 중요한지 알아본다.

#### 명명이 중요한 이유

코드베이스에서 식별자의 이름은 프로그래머가 명명한다.

식별자에는 **타입(클래스, 인터페이스, 구조체, 대리자, 열거형), 변수, 메서드, 함수, 모듈, 라이브러리, 네임스페이스**가 포함되고 프로그래머는 이들의 이름을 짓는다.

식별자의 이름이 중요한 이유는 크게 네 가지다.

##### 이름은 코드베이스의 상당 부분을 차지한다

변수 이름이 중요한 첫 번째 이유는 대부분의 코드베이스에서 읽을 내용의 상당 부분이 이름이기 때문이다.

예를 들어 200만 줄의 코드로 구성된 이클립스 소스 코드에서 토큰의 33%, 문자의 72%가 식별자에 해당된다.

##### 코드 리뷰 시 이름의 역할

##### 이름은 문서화의 가장 쉬운 형태

이름은 코드베이스 내에서 바로 사용할 수 있기 때문에 일종의 중요한 문서로 기능한다.

##### 이름이 표식 역할을 해줄 수 있음

변수 이름은 주석문 외에도 코드를 이해하는 데 도움이되는 표식이다.

이외에도 이름의 중요성은 다른 책에서도 언급되기에 `Clean Code`참고.

#### 명명에 대한 다양한 관점

- Q.
  - 좋은 식별자 이름을 어떻게 정의하는가?
  - 좋은 이름의 예를 생각할 수 있는가?
  - 나쁜 이름을 어떻게 정의할 수 있는가?
  - 단순히 좋은 이름과 반대되는 것일까?
  - 아니면 지금까지 본 적이 있는 나쁜 이름의 특징을 생각할 수 있는가?
  - 자기 자신이 작성한 나쁜 이름의 예를 알고 있는가?

- A.
  - 좋은 식별자 이름은 중복이 없고 직관적인 식별자 이름이라고 생각한다.
  - GetMyName()과 같은 메서드는 좋은 식별자라고 생각한다..
  - GetString()과 같이 지역적으로 다룬 식별자
  - 아니다
  - a,b,c 등과 같은?
  - 앞서 다룬 해당 클래스내에서만 사용할 변수를 지역적으로 다룬 식별자

좋은 이름에 대한 규약목록이 있다.

- 식별자는 대문자를 올바르게 사용해야한다.
- 식별자는 연속된 여러 개의 밑줄을 가져서는 안된다.
- 식별자는 단어로 만들어야 하고 역어는 원래의 명칭보다 더 자주 사용될 경우에만 사용해야 한다.
- 식별자에 사용되는 단어는 두 갸에서 네 개 사이여야 한다.
- 식별자의 길이는 c, d, e, g, i, in, inOut, j, k, m, n, o, out, t, x, y, z를 제외하고 8글자보다 작으면 안 된다.
- 분명한 이유가 없다면, 열거형은 알파벳 순서로 선언되어야 한다.
- 식별자는 밑줄로 시작하거나 끝나서는 안된다.
- 헝가리은 표기법 등으로 식별자의 이름에 타입 정보를 나타내면 안 된다.
- 긴 식별자 이름은 가능한 한 피해야 한다.
- 식별자는 대문자와 소문자를 표준적이지 않은 방법으로 섞어서 사용해서는 안된다.
- 식별자는 숫자만을 나타내는 단어나 수를 사용하면 안 된다.

##### 이름은 코드베이스 내에서 일관성이 있어야 한다

좋은 이름에 대한 또 다른 관점은 일관성이다.

코드베이스 전반에 걸쳐 유사한 객체에 동일한 단어를 사용하면 뇌가 LTM에 저장된 관련 정보를 더 쉽게 찾을 수 있다.

#### 초기 몀영 관행은 지속적인 영향을 미친다

연구 결과에 따르면 "프로그램 개발 초기에 만들어진 식별자의 품질이 계속 유지된다."라고 한다.

즉, 새 프로젝트의 경우 초기 단계의 이름을 만드는 방식이 그 이후로도 계속 사용될 가능성이 높기 때문에 좋은 이름을 선택하는 데 특히 주의를 기울여야 한다.

> 시간 경과에 따른 명명 방식에 대한 조사 결과  
> 최신 코드는 명명 지침을 더 잘 따른다.  
> 그러나 동일한 코드베이스 내에서 명명 관행은 일정하게 유지된다.  
> 명명 관행 면에서 작은 코드 베이스와 큰 코드베이스 사이에 차이는 없다.

### 명명의 인지적 측면

#### 형식이 있는 이름은 STM을 돕는다

변수 이름의 형식을 지정하는 방법에 대한 명확한 규칙을 가지고 있으면 STM이 코드에 있는 이름을 이해하는 데 도움이 될 수 있다.

#### 명확한 이름이 LTM에 도움이 된다

우리가 선택하는 단어들은 특히 인지적인 관점에서 중요하다.

앞에서 두뇌가 코드를 처리할 때 작업 기억 공간은 두 가지 유형의 정보를 처리한다는 것을 살펴보았는데, 먼저 변수 이름은 감각 기억에 의해 처리되고 STM으로 전송된다.  

STM은 크기가 제한되어 있기 때문에 변수 이름을 단어별로 구분하려고 한다.

이름이 체계적일수록 변수명의 각 부분을 식별하기 쉽다.

#### 변수 이름은 이해에 도움이 되는 다양한 유형의 정보를 포함할 수 있다

- 코드의 도메인에 대해 생각할 때 이름이 도움이 된다.
  - customer같은 도메인 단어에 대해 LTM에는 모든 종류의 연관 관계가 저장되어 있다. ex) 고객은 제품을 주문한다, 주소와 이름이 필요하다 등..
- 프로그래밍에 대해 생각할 때도 이름이 도움이 된다.
  - 트리와 같은 프로그래밍 개념도 LTM에서 정보를 가져오는데 일조한다. 트리는 루트 노드가 있고, 순회 가능하고 등등
- 경우에 따라 변수에 LTM이 이미 알고 있는 규약에 대한 정보가 포함될 수 있다.
  - j라는 변수는 루프에서 카운터 변수로 종종 사용된다.

- Q. 익숙하지 않은 소스 코드를 하나 선택하라. 코드를 살펴보고 식별자 이름을 나열하라 각각 어떻게 인지 처리를 지원할지 생각해보라

#### 이름의 품질 평가 시기

코딩과 관련된 인지 과정 때문에 명명하는 것은 어렵다.

문제 해결에 몰두해 있을때는 높은 인지 부하를 겪기 십상이기 때문이다.

부하가 너무 높으면 좋은 변수 이름을 생각할 여유가 없을 수 있다.

따라서 코딩 이외의 시간에 이름의 품질을 숙고하는 것이 바람직하다..

### 어떤 종류의 이름이 더 이해하기 쉬운가?

#### 축약할 것인가, 하지 않을 것인가?

변수의 이름을 기억하기 어렵게 만드는 것은 길이 자체가 아니라 이름에 포함된 음절의 수였다.

이것은 인지적 관점에서 이해할만 하며 이름이 길면 STM에서 더 많은 청크를 사용할 수 있고, 각 음절 의미의 단어를 사용해야 하는 반면, 기억을 잘하기 위해서라면 간결한 약자를 사용해야 한다.

좋은 변수 이름을 명명하기 위해서는 이 둘 사이의 주의 깊은 균형이 필요하다.

##### 단일 문자가 변수로 흔히 사용된다

다양한 언어에서 사용된 단일 문자 변수를 그래프로 보여주는데.. 역시 i가 제일 많다. (펄 제외)

i는 반복문 x,y는 좌표로 이해가 되지만 b, f, s, t는 프로그래머가 공통으로 연관 짓는 의미가 있을까?

이러한 오개념을 방지하기 위해 변수 이름을 축약하지 않는 것이 좋다..(루프문이나 명확한 것은 제외)

#### 스네이크 케이스냐, 캐멀 케이스냐?

C계열의 언어는 캐멀 케이스를 사용한다. 모두 첫 글자는 소문자시작해 그 다음 단어의 첫 글자는 대문자로 시작한다.

반면 파이썬은 식별자 이름의 단어를 밑줄로 구분하는 스네이크 케이스를 사용한다.

엄청난 차이가 있지는 않지만 캐멀케이스의 경우가 연구 결과 상 좀 더 유리한 부분이 있다고 한다.

### 이름이 버그에 미치는 영향

#### 나쁜 이름을 가진 코드에 버그가 더 많다

연구 결과에 따르면 명명 문제와 코드 품질 사이에 통계적으로 유의미한 연관성을 발견했다.

물론 버그 위치와 나쁜 이름의 위치 간의 상관관계가 반드시 그 둘 사이의 인과관계를 의미하는지는 않는다.

버그와 좋지 않은 이름 모두 초보 프로그래머 혹은 실력 없는 개발자가 작성한 코드의 결과일 수도 있다.

이 외에도 다양한 인지적 문제일 수 있기도 하다.

따라서 잘못된 이름 문제를 해결하는 것이 반드시 버그를 고치거나 예방하지는 않지만, 코드베이스를 검사하여 잘못된 이름이 발생하는 위치를 찾아내는 일은 코드를 개선하고 버그 발생 가능성이 있는 위치를 찾는 데 도움이 될 수 있다.

이름을 개선하면 간접적으로 버그가 줄어들거나, 더 나은 이름을 사용한 코드는 이해하기 쉽기 때문에 최소한 수정 시간이 단축될 수 있다.

### 더 나은 이름을 선택하는 법

#### 이름 툴

많이 선택받은 이름을 나열해주는데 사실, 깃허브 코파일럿이나 네이밍 구름같은 툴을 사용하면 된다.

#### 더 나은 변수명에 대한 페이텔슨 3단계 모델

1. 이름에 포함할 개념을 선택한다.
2. 각 개념을 나타낼 단어를 선택한다.
3. 이 단어들을 사용하여 이름을 구성한다.

### 요약

- 캐멀 케이스 같은 문법 규칙부터 코드베이스 내의 일관성까지, 좋은 이름에 대한 다양한 관점이 있다.
- 다른 차이가 없다면 스네이크 케이스로 작성된 캐멀 케이스 변수가 기억하기 쉽다. 하지만 사람들은 스네이크 케이스를 더 빨리 인식한다.
- 잘못된 이름이 있는 코드에서 버그가 발생할 가능성이 높다. 다만 이 둘 사이에 반드시 인과관계가 있는 것은 아니다.
- 다양한 형식의 변수명을 만드는 데 사용할 수 있는 이름 틀이 있으므로, 틀의 수를 줄이면 코드를 이해하는 데 도움이 된다.
- 페이텔슨 3단계 모델을 적용하면 고품질의 이름을 만들 수 있다.
