## 11. 코드를 작성하는 행위

- **이 장에서는 다음과 같은 내용을 다룬다.**
  - 코드와 상호작용할 때 수행하는 여러 가지 다른 활동의 비교
  - 여러 가지 활동을 더 효과적으로 수행하도록 두뇌를 지원하는 방안
  - 업무 중단이 개발자 업무에 미치는 영향
  - 업무 중단 이후 효과적으로 업무를 다시 시작하기 위해 기억을 사용하는 방법

이 장에서는 코드 자체에서 벗어나 프로그래밍을 실행할 때 인지 과정이 어떤 역할을 하는지 살펴볼 것이다.

### 11.1 프로그래밍 중 이루어지는 다양한 활동

토머스 그린에 의해 **인지적 차원 표기법**이라는 프레임워크로 처음 고안되었다.

| 활동 | 실행 | 코딩 | 테스트 | 읽기 | 리팩터링 | 부하를 가하는 기억 공간 |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| 검색 | v |   |   | v |   | STM |
| 이해 | v |   | v | v | v | 작업 기억 공간 |
| 전사 |   | v |   |   |   | LTM |
| 증가 | v | v | v | v | v | 세 곳 모두 |
| 탐구 | v | v | v | v | v | 세 곳 모두 |

#### 11.1.1 검색

검색은 코드베이스를 살펴보고 특정 정보를 검색하는 작업이다.  

해결해야 하는 버그의 정확한 위치나 특정 메서드의 모든 호출 혹은 변수가 초기화되는 위치일 수 있다.

검색하는 동안 코드를 읽고 실행하는 것이 주된 일이지만, 중단점과 디버거를 사용할 수 있고, 코드를 실행해보며 출력문으로 확인하기도 한다.

검색은 STM에 무리를 가한다.

#### 11.1.2 이해

이해 활동을 수행할 때는 코드를 읽고 실행해봄으로써 그 기능을 이해하게 된다.

검색과 비슷하지만 코드가 작성된 지 오래되었거나 다른 사용자가 코드를 작성했기 때문에 코드의 세부기능에 대한 이해가 부족할 수 있다.

5장에서 살펴본 바와 같이 개발자는 평균적으로 읽고 이해하는 과정에 가장 많은 시간을 소비한다.

#### 11.1.3 전사

전사란 '단순히 코딩'하는 활동이다.

코드베이스에 추가 또는 변경할 내용에 대한 구체적인 계획이 있을 때, 단지 그 계획을 수행하는 것이다.

이 활동의 가장 단순한 형태는 내용을 단지 코드로 옮기는 것일 뿐 그 밖의 다른 일은 없다.

#### 11.1.4 증가

증가는 검색, 이해, 전사가 합쳐진 활동이다.

새 기능을 추가하는 것은 코드가 늘어나는 것이다.

이 활동에는 코드를 추가할 위치를 검색하는 것, 어디에 코드를 추가할지 그리고 어떻게 할지 이해하기 위해 기존 코드를 파악하는 것, 그리고 아이디어를 문법으로 실제로 전사하는 활동이 모두 포함된다.

#### 11.1.5 탐구

탐구 활동의 본질은 코드를 사용하여 스케치하는 것과 같다.

무엇을 해야 할지 분명한 생각이 떠오르지 않을 때, 프로그래밍을 통해 문제의 도메인과 사용해야 하는 프로그래밍 구성 요소를 명확히 알 수 있다.

#### 11.1.6 디버깅은 어떤가?

디버깅 작업은 왜 없을까??

디버깅을 할 때는 종종 이 5가지 활동을 모두 수행한다.

따라서 디버깅은 탐구, 검색, 이해, 코드 작성의 순서이며, 다섯 가지 활동이 혼합된 것으로 묘사할 수 있다.

### 11.2 프로그래머의 업무 중단

프로그래머의 업무 중단 사례를 심각한 문제라고 생각하고 있다.

#### 11.2.1 프로그래밍 작업에는 워밍업이 필요하다

#### 11.2.2 중단 후에는 어떻게 되는가?

업무 중단 후 발생하는 상황은 생산성 측면에서 상당한 손해라고 본다.

작업 기억 공간이 원래 작업하던 코드에 대한 중요한 정보를 잃어버린다는 것을 연구 결과로 부터 알 수 있다.

```
생각

뽀모도르 같이 25분 집중 5분 휴식과 같이 집중하기 위한 방법도 5분 휴식에 의해 업무가 중단된다고 볼 수 있을까?

장기적인 측면에서 시간을 효율적으로 관리하는 방법론은 좋다고 평가되지만 업무 중단에 있어서는 과연 어떤 효과가 있을까..?
```

#### 11.2.3 중단에 잘 대비하는 방법

업무 중단이 흔하고 다시 돌아와 원래 하던 업무를 계속하기가 어렵다는 것을 알았으니, 중단에 더 잘 대비할 수 있도록, 업무 중단 시 우리 두뇌에서 무슨 일이 일어나는지 더 자세히 알아본다.

따라서 이런 중단에 대처하는 유용한 세 가지 방법을 소개한다.

##### 정신 모델 저장

어떤 결정을 내렸는지 문서화해놓으면 다른 사람이 코드를 읽을 때 매우 유용할 뿐만 아니라 자기 자신의 정신 모델을 일시적으로 저장하는데 도움이 되고 나중에 작업을 쉽게 재개할 수 있다.

코드에 대한 최신 정신 모델을 주석문의 형태로 '브레인 덤프'하는 것이 아주 유용할 수 있다.

##### 미래 기억 향상

두 가지 유형의 기억 말고도 미래에 관련된 기억의 종류가 있다.

미래 기억은 미래에 무언가를 할 것에 대한 기억이다.

이러한 유형의 기억은 계획 및 문제 해결과 밀접한 관련이 있다.

집에 오는 길에 가게에 들러 우유를 사는 것을 기억해야 한다고 자신에게 말하는 것, 혹은 나중에 어떤 코드를 리팩터링할지를 자신에게 상기할 때, 우리는 미래 기억을 사용하는 것이다.

##### 하위 목표 라벨 붙이기

문제를 어떤 작은 단계로 나눌 수 있는지 명시적으로 기록한다.

예를 들어 텍스트에 대해 구문 분석하고 재구성하는 작업 단계로 나누면 다음과 같다.

1. 텍스트를 구문 분석하고 구문 분석 트리를 생성한다.
2. 구문 분석 트리를 필터링한다.
3. 트리를 선형 구조로 변환해 텍스트를 만든다.

이 단계들 자체는 상상하거나 기억하기 어렵지 않지만, 도중에 중단되고 나서 다시 코드로 돌아가서 무엇을 하려고 했는지 기억하는 것은 번거로울 수 있다.

#### 11.2.4 프로그래머를 방해할 때

작업이 유발하는 인지 부하에 다른 식으로 접근하는 방법들도 있다.

한 가지는 `이중 과제 척도`로 실험 참가자가 원래 작업을 하는 동안 수행하는 두 번째 작업이다.

멀티태스킹에 대한 이야기로 당연하게 몰입하고 있는 작업은 하나로 한정되고 완료 이후에 다른 작업이 더 효율적이라는 이야기

#### 11.2.5 멀티태스킹에 대한 고찰

우리 두뇌는 멀티코어 프로세서처럼 동시에 여러 가지 일을 할 수 없는가?

##### 멀티태스킹 및 자동화

안타깝게도, 사람들이 깊은 인지 작업을 하는 동안 여러 가지 일을 할 수 없다는 증거는 넘친다.

정보를 저장하는 세 단계, 즉 인지, 연상, 자율을 기억해보면 자율 단계에 도달하지 않은 경우 두 개 이상의 작업을 동시에 수행할 수 없다.

##### 멀티태스킹에 관한 연구

연구 결과 역시 불가능에 가깝다는 이야기..

### 요약

- 프로그래밍을 할 때 검색, 이해, 전사, 증가, 탐구 등 다양한 프로그래밍 활동을 함께 수행한다. 각각의 활동은 서로 다른 기억 체계에 부담을 준다. 따라서 여러 다른 기법을 사용해 이 활동들을 지원해야 한다.
- 프로그래밍 중 중단은 성가실 뿐만 아니라 코드에 대한 정신 모델을 재구성하는 데 시간이 걸리기 때문에 생산성에 나쁜 영향을 미친다.
- 중단에 잘 대처하려면 정신 모델을 노트, 문서 또는 주석으로 작성해놓는다.
- 작업을 완료할 수 없다면 계획을 문서화해서 미래 기억을 의도적으로 도와주어야 한다.
- 방해 받더라도 가급적이면 인지 부하가 낮을 때 중단이 일어나도록 해야 한다.
